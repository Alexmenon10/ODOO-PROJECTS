<odoo>
 
         <record id="purchase_order_close_po" model="ir.ui.view">
            <field name="name">Purchase Order Close PO</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.purchase_order_form"/>
            <field name="arch" type="xml">
                <header position="inside">
                     <button type="object" name="close_po" string="close PO" class="btn" attrs="{'invisible':['|',('po_entry_done', '=', True),('state','!=','purchase')] }"/>
                </header>
                <xpath expr="//field[@name='currency_id']" position="after">
                    <field name="open_close_po" readonly='1'/>
                </xpath>
                <xpath expr="//field[@name='order_line']/tree/field[@name='price_subtotal']" position="after">
                    <field name="po_done" attrs="{'column_invisible':[('parent.state','!=','purchase')],'readonly':[('parent.open_close_po','=','close_po')] }"/>
                </xpath>
                 <xpath expr="//field[@name='payment_term_id']" position="after">
                    <field name="po_entry_done" invisible='1'/>
                </xpath>
                 <xpath expr="//field [@name='state']" position="replace">
                    <field name="state"
                           widget="statusbar"
                           statusbar_visible="draft,waiting_approval,to_be_approved"
                           statusbar_colors='{"confirmed":"blue"}'/>
                </xpath>
                <!--                <field name="doc_type_id" position="after">-->
                <!--                    <field name="purachse_rfq_request"/>-->
                <!--                </field>-->
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="purachse_rfq_request" invisible="1"/>
                </xpath>
                <xpath expr="//header/button[4]" position="attributes">
                    <attribute name="attrs">{'invisible': ['|', ('purachse_rfq_request', '=', True), ('state','not in',('sent'))]}</attribute>
                </xpath>
                <xpath expr="//header/button[9]" position="attributes">
                    <attribute name="attrs">{'invisible': ['|',('purachse_rfq_request', '=', True), ('state','not in',('draft'))]}</attribute>
                </xpath>
<!--                <xpath expr="//header/button[4]" position="attributes">-->
<!--                    <attribute name="attrs">{'invisible': [('state','not in',('draft','request_approved'))]}</attribute>-->
<!--                </xpath>-->
                <xpath expr="//header/button[9]" position="after">
                    <button name="confirm_purchase_order" states="request_approved" string="Confirm" type="object"
                            class="oe_highlight"/>
                    <button name="indent_confirm" string="Submit for Approval" type="object"
                            class="oe_highlight" attrs="{'invisible': ['|', ('purachse_rfq_request', '=', False), ('state','not in',('request_to_approve'))]}"/>
                    <button name="button_leader_approval" string="Approve" type="object" class="oe_highlight"
                            states="to_be_approved"/>
                    <button name="button_leader_approval" string="Approve" type="object" class="oe_highlight"
                            states="leader_approval"/>
                    <button name="button_leader_approval" string="Approve" type="object" class="oe_highlight"
                            states="manager_approval"/>
                    <button name="button_leader_approval" string="Approve" type="object" class="oe_highlight"
                            states="director_approval"/>
                    <button name="button_leader_approval" string="Approve" type="object" class="oe_highlight"
                            states="ceo_approval"/>
                    <button name="indent_reject" string="Reject" type="object" class="oe_highlight"
                            states="to_be_approved"/>
                    <button name="indent_cancel" string="Cancel" type="object" class="oe_highlight"
                            states="to_be_approved"/>
                    <button name="indent_reject" string="Reject" type="object" class="oe_highlight"
                            states="leader_approval"/>
                    <button name="indent_cancel" string="Cancel" type="object" class="oe_highlight"
                            states="leader_approval"/>
                    <button name="indent_reject" string="Reject" type="object" class="oe_highlight"
                            states="manager_approval"/>
                    <button name="indent_cancel" string="Cancel" type="object" class="oe_highlight"
                            states="manager_approval"/>
                    <button name="indent_reject" string="Reject" type="object" class="oe_highlight"
                            states="director_approval"/>
                    <button name="indent_cancel" string="Cancel" type="object" class="oe_highlight"
                            states="director_approval"/>
                    <button name="indent_reject" string="Reject" type="object" class="oe_highlight"
                            states="ceo_approval"/>
                    <button name="indent_cancel" string="Cancel" type="object" class="oe_highlight"
                            states="ceo_approval"/>
                    <button name="final_approver_purchase_state" string="Approve" type="object" class="oe_highlight"
                            states="final_approval"/>
                    <button name="indent_reject" string="Reject" type="object" class="oe_highlight"
                            states="final_approval"/>
                    <button name="indent_cancel" string="Cancel" type="object" class="oe_highlight"
                            states="final_approval"/>
                </xpath>
<!--                <button name="button_confirm" position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--                </button>-->

                <xpath expr="//page" position="after">
                    <page string="Approver(s)" attrs="{'invisible': [('purachse_rfq_request', '=', False)]}">
                        <group>
                            <group>
                                <field name="type_of_purchase" invisible="1"
                                       domain="[('approval_type','=', 'material_request')]"
                                       string="Approval Type"
                                       options="{'no_open': True,'no_quick_create': True, 'no_create_edit' : True}"
                                       attrs="{'readonly': [('state','not in',('draft'))]}"/>
                                <field name="approval_stages" force_save="1" readonly="1"/>
                                <field name="final_approver"/>
                            </group>
                            <group>
                                <field name="approver1" attrs="{'required': [('purachse_rfq_request', '=', True)]}"/>
                                <field name="approver2"
                                       attrs="{'invisible': [('approval_stages', '=', 'first_level')],
                                       'required': [('approval_stages', '!=', 'first_level')]}"/>
                                <field name="approver3"
                                       attrs="{'invisible': [('approval_stages', 'in', ('first_level','second_level'))],
                                       'required': [('approval_stages', 'not in', ('first_level','second_level'))]}"/>
                                <field name="approver4"
                                       attrs="{'invisible': [('approval_stages', 'in', ('first_level','second_level', 'third_level'))],
                                       'required': [('approval_stages', 'not in', ('first_level','second_level','third_level'))]}"/>
                                <field name="approver5"
                                       attrs="{'invisible': [('approval_stages', 'in', ('first_level','second_level', 'third_level','fourth_level'))],
                                       'required': [('approval_stages', 'not in', ('first_level','second_level','third_level','fourth_level'))]}"/>
                            </group>
                        </group>
                        <group>
                            <!--                            <field name="app_remarks" readonly="1" attrs="{'invisible': [('app_remarks','=',False)]}"/>-->
                            <!--                            <field name="rej_remarks" readonly="1" attrs="{'invisible': [('rej_remarks','=',False)]}"/>-->
                        </group>
                    </page>
                </xpath>
            </field>
        </record>
</odoo>
